<div class="card outercard">
    <div>
    <div class='card-header heading' style="color: white;text-align: center;">
        <div class="col-md-9">
        <h4 style="margin-bottom:-30px;">HealthCare Member Portal</h4>
    </div>
    <div class="col-md-3">
        <button class="btn btn-primary" style="margin-left: 45px;" (click) = "Logout()">Logout</button>
    </div>
    </div>
</div>
    <div class="card shadow p-3 mb-5 bg-white rounded innercard">
        <div class="card-header" style="text-align: center;border-color: rgba(22, 182, 245, 0.932);">
            <h4>Member Registration</h4>
        </div>
        <div style="height: 15px;"></div>
        <div class="cards-container">
            <div class="cards-form">
                <form class="form" #allcontrols="ngForm" (ngSubmit)="onSubmit()">
                    <div class="loginfields">
                        <div class="form-group">
                             <label for="" style="margin-bottom: 5px;">User Name : </label>
                            <br>
                            <!-- <input type="text" placeholder="Please Enter Username" name="userName"> --> 
                            <input style="margin-bottom: 5px;" type="text" #username="ngModel" [ngModelOptions]="{standalone: true}" [(ngModel)]="userdetails.UserName" name="username"
                                    placeholder="UserName" minlength="4" required
                                    [ngClass]="{'invalid-textbox' :submitted && !username.valid }"/>&nbsp;&nbsp;
                                <span *ngIf="submitted && username.errors">
                                    <label *ngIf="username.errors?.['required']" class="validation-message">User Name
                                        is required.</label>
                                    <label *ngIf="username.errors?.['minlength']" class="validation-message">Enter
                                        atleast 4 characters.</label>
                                </span>
                        </div>
                        <div class="form-group">
                             <label style="margin-bottom: 5px;" for="">Password : </label>
                            <br>
                            <!-- <input type="password" placeholder="Please Enter Password" name="password"> -->
                            <input style="margin-bottom: 5px;" type="password" #password="ngModel" [ngModelOptions]="{standalone: true}" [(ngModel)]="userdetails.Password" name="password"
                                    placeholder="Password" required [pattern]="passwordpattern" maxlength="15"
                                    minlength="8"
                                    [ngClass]="{'invalid-textbox' :submitted && !password.valid }">&nbsp;&nbsp;
                                <span *ngIf="submitted && password.errors">
                                    <label *ngIf="password.errors?.['required']" class="validation-message">Password
                                        is required.</label>

                                   <label *ngIf="password.errors?.['pattern']" class="validation-message">Password
                                        length should be minimum 8 and maximum 15 characters.
                                        It should contain at least 1 uppercase letter, 1 lowercase letter and 1 number
                                    </label>
                                </span>
                        </div>
                        <!-- <div class="form-group,font-awesome">
                            <label style="margin-bottom: 5px;" for="">UserType : </label>
                            <br>
                            <select style="margin-bottom: 5px;" class="fa" style="width: 78%;" [ngModelOptions]="{standalone: true}" 
                             #select = "ngModel" 
                            name="usertype" id="usertype" [(ngModel)]='userdetails.UserType' required>
                                <option value=1>Admin</option>
                                <option value=2>Member</option>
                                
                            </select>
                            <span *ngIf="submitted && select.errors">
                                <label *ngIf="select.errors?.['required']" class="validation-message">User Type
                                    is required.</label>
                            </span>
                        </div> -->
                        
                            <div class="form-group">
                                <label style="margin-bottom: 5px;" for="">Name : </label>
                               <br>
                               <!-- <input type="text" placeholder="Please Enter Username" name="userName"> --> 
                               <input style="margin-bottom: 5px;" type="text" #firstname="ngModel" [ngModelOptions]="{standalone: true}" [(ngModel)]="userdetails.FirstName" name="username"
                                       placeholder="FirstName" minlength="5" maxlength="20" required
                                       [ngClass]="{'invalid-textbox' :submitted && !firstname.valid }"/>&nbsp;&nbsp;
                                   <span *ngIf="submitted && firstname.errors">
                                       <label *ngIf="firstname.errors?.['required']" class="validation-message">First Name
                                           is required.</label>
                                       <label *ngIf="firstname.errors?.['minlength']" class="validation-message">Enter
                                           atleast 5 characters.</label>
                                   </span>
                                <br>
                                   <input style="margin-bottom: 5px;" type="text" #lastname="ngModel" [ngModelOptions]="{standalone: true}" [(ngModel)]="userdetails.LastName" name="username"
                                       placeholder="LastName" minlength="5" maxlength="20" required
                                       [ngClass]="{'invalid-textbox' :submitted && !lastname.valid }"/>&nbsp;&nbsp;
                                   <span *ngIf="submitted && lastname.errors">
                                       <label *ngIf="lastname.errors?.['required']" class="validation-message">Last Name
                                           is required.</label>
                                       <label *ngIf="lastname.errors?.['minlength']" class="validation-message">Enter
                                           atleast 5 characters.</label>
                                   </span>
                           </div>
                           <div class="form-group">
                            <label for="" style="margin-bottom: 5px;">DOB : </label>
                           <br>
                           <!-- <input type="text" placeholder="Please Enter Username" name="userName"> --> 
                           <!-- <input type="text" #address="ngModel" [ngModel]="compaddress" name="username"
                                   placeholder="UserName" minlength="4" required
                                   [ngClass]="{'invalid-textbox' :submitted && !username.valid }"/> -->
                                   <input style="margin-bottom: 5px;width: 78%;"  type="date" id="birthday" [ngModelOptions]="{standalone: true}" name="birthday" 
                                   #dob="ngModel" [(ngModel)]="userdetails.DOB" [max]="todaydate" required 
                                   [ngClass]="{'invalid-textbox' :submitted && !dob.valid}">
                                   
                                   &nbsp;&nbsp;
                               <span *ngIf="submitted && dob.errors">
                                   <label *ngIf="dob.errors?.['required']" class="validation-message">User Name
                                       is required.</label>
                                   <!-- <label *ngIf="dob.errors?.['maxlength']" class="validation-message">Length should not exceed 100 characters.</label> -->
                               </span>
                       
    
                           
                        </div>
                           <div class="form-group">
                            <label style="margin-bottom: 5px;" for="">Address : </label>
                           <br>
                           <!-- <input type="text" placeholder="Please Enter Username" name="userName"> --> 
                           <!-- <input type="text" #address="ngModel" [ngModel]="compaddress" name="username"
                                   placeholder="UserName" minlength="4" required
                                   [ngClass]="{'invalid-textbox' :submitted && !username.valid }"/> -->
                                   <textarea style="margin-bottom: 5px;" style="width: 78%;" [ngModelOptions]="{standalone: true}" maxlength="100" 
                                   #personaladdress="ngModel" [(ngModel)]="userdetails.Address" required 
                                   [ngClass]="{'invalid-textbox' :submitted && !personaladdress.valid }"></textarea>
                                   &nbsp;&nbsp;
                               <span *ngIf="submitted && personaladdress.errors">
                                   <label *ngIf="personaladdress.errors?.['required']" class="validation-message">Address
                                       is required.</label>
                                   <label *ngIf="personaladdress.errors?.['maxlength']" class="validation-message">Length should not exceed 100 characters.</label>
                               </span>
                    
                        </div>
                        <div class="form-group,font-awesome">
                            <label for="" style="margin-bottom: 5px;">State : </label>
                            <br>
                            <select style="margin-bottom: 5px;" class="fa" style="width: 78%;" [ngModelOptions]="{standalone: true}" 
                            #selectstate = "ngModel" name="state" id="state" [(ngModel)]='userdetails.State' required
                            [ngClass]="{'invalid-textbox' :submitted && !selectstate.valid }">
                                <option value="1">Andhra Pradesh</option>
                                <option value="2">Telangana</option>
                                <option value="3">Karnataka</option>
                                <option value="4">TamilNadu</option>
                                
                            </select>
                            <span *ngIf="submitted && selectstate.errors">
                                <label *ngIf="selectstate.errors?.['required']" class="validation-message">State
                                    is required.</label>
                            </span>
                        </div>
                        <div class="form-group">
                            <label for="" style="margin-bottom: 5px;">Email : </label>
                           <br>
                           <!-- <input type="text" placeholder="Please Enter Username" name="userName"> --> 
                           <input style="margin-bottom: 5px;" type="text" #email="ngModel" [ngModelOptions]="{standalone: true}" [(ngModel)]="userdetails.Email" name="username"
                                   placeholder="Enter Email" [pattern]="emailpattern" minlength="5" maxlength="20" required
                                   [ngClass]="{'invalid-textbox' :submitted && !email.valid }"/>&nbsp;&nbsp;
                               <span *ngIf="submitted && email.errors">
                                   <label *ngIf="email.errors?.['required']" class="validation-message">Email
                                       is required.</label>
                                   <label *ngIf="email.errors?.['minlength']" class="validation-message">Enter
                                       atleast 5 characters.</label>
                                    <label *ngIf="email.errors?.['pattern']" class="validation-message">Entered Email is not valid
                                    </label>
                               </span>
                               </div>
                        
                        <div style="height: 10px;"></div>
                        <div class="form-group" style="margin-bottom: 5px;">
                            <button class="btn" style="background-color: grey; color: white;" (click) = "Cancel()">Cancel</button> &nbsp;
                            <button class="btn btn-primary" [disabled]="!allcontrols.valid"  >Submit</button>
                        </div>
                    </div>
                    
                </form>
                <hr>
                



           </div>
            <!-- <div class="cards-grid">
        <div class="card-row" *ngFor="let card of cards">
          <div class="card-row-details" (click)="populateForm(card)">
            <span>{{ card.cardholderName }}</span>
            <span>{{ card.cardNumber }}</span>
          </div>
          <div class="card-row-action">
            <a (click)="deleteCard(card.id)"><i class="fa-solid fa-trash"></i></a>
          </div>
        </div>
      </div> -->
        </div>
    </div>

    <ng-template #template>
        <div class="modal-header">
            <h4 class="modal-title pull-left">Payment Confirmation</h4>
            <button type="button" class="btn-close close pull-right" aria-label="Close"
                (click)="modalRef?.hide()">
                <span aria-hidden="true" class="visually-hidden">

                </span>
            </button>
        </div>
        <div class="modal-body">
            <div>
                <span>
                    <label>Note: Member you are trying to add already exists in the system. Please assign physician to this member.</label>
                </span>
                <div>
                    <label for="" style="margin-bottom: 5px;">Member Id : </label>
                    <input style="margin-bottom: 5px;" type="text" #phymemberid="ngModel" [ngModelOptions]="{standalone: true}" [(ngModel)]="assignphysician.MemberId" name="username"
                                   minlength="5" maxlength="20" required
                                   [ngClass]="{'invalid-textbox' :submitted && !phymemberid.valid }"/>&nbsp;&nbsp;
             
                        <select style="margin-bottom: 5px;" class="fa" style="width: 78%;" [ngModelOptions]="{standalone: true}" 
                            #selectphysician = "ngModel" name="physician" id="physician" [(ngModel)]='assignphysician.PhysicianId' required
                            [ngClass]="{'invalid-textbox' :submitted && !selectphysician.valid }">
                                <option value="1">John</option>
                                <option value="2">Hari</option>
                                <option value="3">Mittal</option>
                                <option value="4">Patrick</option>
                                
                            </select>
                    
                </div>
                <div class="form-group" style="margin-bottom: 5px;">
                    <button class="btn" style="background-color: grey; color: white;" (click) = 'modalRef?.hide()'>Cancel</button> &nbsp;
                    <button class="btn btn-primary"  (click)="AssignPhysician(assignphysician)">Submit</button>
                </div>
            </div>
        </div>
    </ng-template>
</div>